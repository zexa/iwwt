{% extends 'base.html.twig' %}

{% block title %}Books{% endblock %}

{% block stylesheets %}
<style>
.space-down {
    margin-bottom: 1rem;
}
.red {
    border-color: var(--pico-color-red-400);
    color: var(--pico-color-red-400);
}
</style>
{% endblock %}


{% block body %}
    <h1>Books</h1>
    {% for book in books %}
    <article>
        <hgroup>
            <h3>{{ book.title }}</h3>
            <p>{{ book.author }}</p>
        </hgroup>

        <strong>ISBN:</strong> {{ book.isbn }}
        <br>

        <strong>Publication Date:</strong> {{ book.publicationDate|date('Y-m-d') }}
        <br>

        <strong>Genres:</strong> {{ book.genres|join(', ') }}
        <br>

        <strong>Number of Copies:</strong> {{ book.copies }}
        <br>

        {% if app.user %}
            <hr>
            <button class="space-down">Edit</button>

            <form action="{{ path('app_delete_book', {'bookId': book.id}) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this book?');">
                <input type="hidden" name="_method" value="DELETE">
                <button class="outline red" type="submit">Delete</button>
            </form>
        {% endif %}
    </article>
    {% endfor %}

    {% if app.user %}
        <a href="/book/new"><button class="secondary">Add Book</button></a>
    {% endif %}
{% endblock %}
